{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center mb-5">
        <div class="col-xl-12">
            <h2 class="text-white fw-bold mb-4">
                <i class="bi bi-journal-check text-success me-2"></i>My Enrolled Courses
            </h2>

            {% if enrolled_courses %}
            <div class="row g-4">
                {% for course in enrolled_courses %}
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm"
                        style="background-color: #1a1d20; color: #ffffff; border-radius: 15px; border-left: 4px solid #198754 !important; overflow: hidden;">
                        <div class="card-body p-4 position-relative">
                            <div class="position-absolute top-0 end-0 p-3 opacity-25">
                                <i class="bi bi-mortarboard-fill display-5"></i>
                            </div>
                            <h5 class="card-title fw-bold text-success mb-2 z-1 position-relative">{{ course.title }}
                            </h5>
                            <div class="text-warning mb-2 z-1 position-relative"
                                title="{{ course.average_rating }} out of 5 stars">
                                <small class="fw-bold">{{ course.average_rating }} <i
                                        class="bi bi-star-fill"></i></small>
                            </div>
                            <p class="card-text text-secondary small mb-3 z-1 position-relative">
                                {{ course.description|truncatewords:8 }}
                            </p>

                            <a href="{% url 'course_detail' course.id %}"
                                class="btn btn-outline-success btn-sm fw-bold w-100 py-2 z-1 position-relative">
                                <i class="bi bi-box-arrow-in-right me-2"></i>Go to Course
                            </a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-5 border border-secondary rounded-4 border-dashed"
                style="border-style: dashed !important; background: rgba(255,255,255,0.02);">
                <div class="mb-3 opacity-50">
                    <i class="bi bi-journal-x display-1 text-secondary"></i>
                </div>
                <p class="text-secondary mb-0 fs-5">You haven't enrolled in any courses yet.</p>
                <p class="text-secondary small mt-2">
                    <a href="{% url 'home' %}" class="text-info text-decoration-none">Browse courses</a> to get started!
                </p>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}